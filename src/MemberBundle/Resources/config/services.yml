services:
    # EVENT LISTENER
    member.status.credential.event:
        class: AppBundle\EventListener\AppCredentialEventListener
        arguments: ['%credentialVoterMemberStatus%', 'member.status.credential.title']
        tags:
            - { name: kernel.event_listener, event: app.security.credential.event, method: onProvideCredential }
    member.member.credential.event:
        class: AppBundle\EventListener\AppCredentialEventListener
        arguments: ['%credentialVoterMemberMembers%', 'member.member.title']
        tags:
            - { name: kernel.event_listener, event: app.security.credential.event, method: onProvideCredential }
    member.subscription.credential.event:
        class: AppBundle\EventListener\AppCredentialEventListener
        arguments: ['%credentialvotermembersubscription%', 'member.subscription.title']
        tags:
            - { name: kernel.event_listener, event: app.security.credential.event, method: onProvideCredential }
    # VOTER
    member.member.voter:
        class: AppBundle\Security\AppVoter
        autowire: true
        arguments: ['%credentialVoterMemberMembers%']
        tags:
            - {name: security.voter}
    member.status.voter:
        class: AppBundle\Security\AppVoter
        autowire: true
        arguments: ['%credentialVoterMemberStatus%']
        tags:
            - {name: security.voter}
    member.sbuscription.voter:
        class: AppBundle\Security\AppVoter
        autowire: true
        arguments: ['%credentialvotermembersubscription%']
        tags:
            - {name: security.voter}
    # MANAGER
    member.manager.member:
        class: MemberBundle\Manager\MemberMemberManager
        #, subscriptionDateEnd: 'subscriptions.endDate'
        arguments: ['@doctrine.orm.entity_manager', '@knp_paginator', '@session', 'paginator_order_member_list', {lastName: 'm.lastName', firstName: 'm.firstName', status: 'mshStatus.label', subscription: 'subscription.label'}]
    member.manager.status:
        class: MemberBundle\Manager\MemberStatusManager
        arguments: ['@doctrine.orm.entity_manager', '@knp_paginator']
    member.manager.subscription_historical:
        class: MemberBundle\Manager\MemberSubscriptionHistoricalManager
        arguments: ['@doctrine.orm.entity_manager', '@knp_paginator']
    member.manager.subscription_fee:
        class: MemberBundle\Manager\MemberSubscriptionFeeManager
        arguments: ['@doctrine.orm.entity_manager', '@knp_paginator']
    # FORM
    member.form.handler.member:
        class: MemberBundle\Form\Handler\MemberFormHandler
        arguments: ['@form.factory', '@member.manager.member']
    member.form.handler.subscription_historical:
        class: MemberBundle\Form\Handler\MemberSubscriptionHistoricalFormHandler
        arguments: ['@form.factory', '@service_container']